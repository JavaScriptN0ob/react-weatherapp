(this["webpackJsonpweather-react"]=this["webpackJsonpweather-react"]||[]).push([[0],{12:function(e,t,a){e.exports={forecast:"ForecastItem_forecast__1yjjQ",forecast__day:"ForecastItem_forecast__day__2w1pX",forecast__icon:"ForecastItem_forecast__icon__Mjl0C",forecast__temp:"ForecastItem_forecast__temp__fckjq",forecast__weather:"ForecastItem_forecast__weather__1MpJb"}},13:function(e,t){e.exports={updateDay:function(e){for(var t={0:"SUN",1:"MON",2:"TUE",3:"WED",4:"THU",5:"FRI",6:"SAT"},a=[],r=0;r<5;r++){var n=e+r;n>7&&(n-=7),a.push(t[n])}return a}}},14:function(e,t){e.exports={findWeatherIconURL:function(e,t){for(var a=0;a<t.length;a++)if(!(e>t[a].max))return t[a].url}}},15:function(e,t,a){e.exports={city_container:"AddCity_city_container__Uwr6K",new_city:"AddCity_new_city__2Y-n2",city_name:"AddCity_city_name__31t18",country_name:"AddCity_country_name__1z_mS",delete:"AddCity_delete__2iKmk"}},16:function(e,t,a){e.exports={weather__city:"City_weather__city__wqrwT",city__name:"City_city__name__1HTJd",search:"City_search__2wwZi"}},17:function(e,t,a){e.exports={weather__search:"Search_weather__search__2qwGv"}},2:function(e,t,a){e.exports={weather__current:"Current_weather__current__KROvg",search:"Current_search__31jNm",current__temp_weather:"Current_current__temp_weather___DoeX",temp_weather__temp:"Current_temp_weather__temp__5ntEr",temp_weather__weather:"Current_temp_weather__weather__3RlKk",current__humidity_wind:"Current_current__humidity_wind__VAHGW",humidity_wind:"Current_humidity_wind__2Xc_z",humidity_wind__divider:"Current_humidity_wind__divider__3qcz3",humidity_wind__title:"Current_humidity_wind__title__3u3LJ",humidity_wind__value:"Current_humidity_wind__value__3bIfh"}},21:function(e,t,a){e.exports={weather__forecast:"Forecast_weather__forecast__3GrYx",waiting_search:"Forecast_waiting_search__1Zg_4"}},30:function(e,t,a){e.exports={google_map:"GoogleMap_google_map__3lhBD"}},33:function(e,t,a){e.exports=a(62)},38:function(e,t,a){},5:function(e,t,a){e.exports={weather__background:"App_weather__background__srvVG",loader:"App_loader__30jTL",spin:"App_spin__q_Z4A",new_city:"App_new_city__1QRih",weather__container:"App_weather__container__1QDVA",weather_top:"App_weather_top__1KTc7",weather__divider:"App_weather__divider__8oFrb",weather_bottom:"App_weather_bottom__1llda",weather_bottom__divider:"App_weather_bottom__divider__1ZbM0"}},62:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(4),i=a.n(c),o=(a(38),a(20)),s=a.n(o),m=a(29),h=a(22),_=a(8),u=a(9),l=a(7),d=a(11),p=a(10),y=a(2),w=a.n(y);var f=function(e){return e.temp?n.a.createElement("div",{className:w.a.weather__current},n.a.createElement("div",{className:w.a.current__temp_weather},n.a.createElement("div",{className:w.a.temp_weather__temp},e.temp),n.a.createElement("div",{className:w.a.temp_weather__weather},e.weather)),n.a.createElement("div",{className:w.a.current__humidity_wind},n.a.createElement("div",{className:w.a.humidity_wind},n.a.createElement("div",{className:w.a.humidity_wind__title},"HUMIDITY"),n.a.createElement("div",{className:w.a.humidity_wind__value},e.humidity)),n.a.createElement("div",{className:w.a.humidity_wind__divider}),n.a.createElement("div",{className:w.a.humidity_wind},n.a.createElement("div",{className:w.a.humidity_wind__title},"WIND"),n.a.createElement("div",{className:w.a.humidity_wind__value},e.wind)))):n.a.createElement("div",{className:w.a.weather__current},n.a.createElement("div",{className:w.a.search},"Waiting"))},g=a(16),v=a.n(g);var C=function(e){return e.city?n.a.createElement("div",{className:v.a.weather__city},n.a.createElement("div",{className:v.a.city__name},e.city)):n.a.createElement("div",{className:v.a.weather__city},n.a.createElement("div",{className:v.a.search},"for the first search"))},E=a(5),N=a.n(E),b=a(30),x=a.n(b),I=a(31);var D=function(e){return n.a.createElement("div",{className:x.a.google_map},n.a.createElement("div",{style:{height:"100%",width:"100%"}},n.a.createElement(I.a,{bootstrapURLKeys:{key:"AIzaSyChhXI0WUaWaEarnFklWD4RmVkf34KtAGY"},defaultCenter:{lat:e.lat,lng:e.lon},defaultZoom:11})))},A=a(21),j=a.n(A),k=a(12),O=a.n(k);var L=function(e){return n.a.createElement("img",{src:e.iconURL,alt:e.weather})};var S=function(e){return n.a.createElement("div",{className:O.a.forecast},n.a.createElement("div",{className:O.a.forecast__day},e.day),n.a.createElement("div",{className:O.a.forecast__icon},n.a.createElement(L,{iconURL:e.url,alt:e.weather})),n.a.createElement("div",{className:O.a.forecast__temp},e.temp),n.a.createElement("div",{className:O.a.forecast__weather},e.weather))},F=a(13),R=a(14);var T=[{min:0,max:299,url:"http://openweathermap.org/img/wn/11d@2x.png"},{min:300,max:400,url:"http://openweathermap.org/img/wn/09d@2x.png"},{min:401,max:505,url:"http://openweathermap.org/img/wn/10d@2x.png"},{min:506,max:519,url:"http://openweathermap.org/img/wn/13d@2x.png"},{min:520,max:599,url:"http://openweathermap.org/img/wn/09d@2x.png"},{min:600,max:699,url:"http://openweathermap.org/img/wn/13d@2x.png"},{min:700,max:799,url:"http://openweathermap.org/img/wn/50d@2x.png"},{min:700,max:799,url:"http://openweathermap.org/img/wn/50d@2x.png"},{min:799,max:800,url:"http://openweathermap.org/img/wn/01d@2x.png"},{min:800,max:801,url:"http://openweathermap.org/img/wn/02d@2x.png"},{min:801,max:802,url:"http://openweathermap.org/img/wn/03d@2x.png"},{min:802,max:805,url:"http://openweathermap.org/img/wn/04d@2x.png"}],W=function(e){return"999"===e.forecast[0].weatherID?n.a.createElement("div",{className:j.a.waiting_search},"Waiting for the first search"):n.a.createElement("div",{className:j.a.weather__forecast},n.a.createElement(S,{day:Object(F.updateDay)(e.today)[0],url:Object(R.findWeatherIconURL)(e.forecast[0].weatherID,T),temp:e.forecast[0].temp,weather:e.forecast[0].weather}),n.a.createElement(S,{day:Object(F.updateDay)(e.today)[1],url:Object(R.findWeatherIconURL)(e.forecast[1].weatherID,T),temp:e.forecast[1].temp,weather:e.forecast[1].weather}),n.a.createElement(S,{day:Object(F.updateDay)(e.today)[2],url:Object(R.findWeatherIconURL)(e.forecast[2].weatherID,T),temp:e.forecast[2].temp,weather:e.forecast[2].weather}),n.a.createElement(S,{day:Object(F.updateDay)(e.today)[3],url:Object(R.findWeatherIconURL)(e.forecast[3].weatherID,T),temp:e.forecast[3].temp,weather:e.forecast[3].weather}),n.a.createElement(S,{day:Object(F.updateDay)(e.today)[4],url:Object(R.findWeatherIconURL)(e.forecast[4].weatherID,T),temp:e.forecast[4].temp,weather:e.forecast[4].weather}))},U=a(17),M=a.n(U),K=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(_.a)(this,a),(r=t.call(this,e)).handleCityInputChange=r.handleCityInputChange.bind(Object(l.a)(r)),r.handleCountryInputChange=r.handleCountryInputChange.bind(Object(l.a)(r)),r}return Object(u.a)(a,[{key:"handleCityInputChange",value:function(e){this.props.onCityChange(e.target.value)}},{key:"handleCountryInputChange",value:function(e){this.props.onCountryChange(e.target.value)}},{key:"render",value:function(){return n.a.createElement("div",{className:M.a.add_city},n.a.createElement("div",{className:M.a.weather__search},n.a.createElement("div",null,n.a.createElement("label",null,"Enter city name:"),n.a.createElement("input",{type:"text",value:this.props.cityText,onChange:this.handleCityInputChange})),n.a.createElement("div",null,n.a.createElement("label",null,"Enter country:"),n.a.createElement("input",{type:"text",value:this.props.countryText,onChange:this.handleCountryInputChange})),n.a.createElement("input",{type:"submit",value:"Search",className:M.a.search,onClick:this.props.onSearch}),n.a.createElement("input",{type:"submit",value:"AddCity",className:M.a.add,onClick:this.props.onAdd})))}}]),a}(n.a.Component),G=a(18),q=a.n(G);var J=function(e,t){var a={method:"get",url:"https://weather-server-wenpei.herokuapp.com/cityWeather?countryCode=".concat(t,"&cityName=").concat(e,"&weatherType=current"),headers:{}};return q()(a).then((function(e){return e.data})).catch((function(e){console.log("getCurrentError",e)}))};var X=function(e,t){var a={method:"get",url:"https://weather-server-wenpei.herokuapp.com/cityWeather?countryCode=".concat(t,"&cityName=").concat(e,"&weatherType=forecast"),headers:{}};return q()(a).then((function(e){return e.data})).catch((function(e){console.log("getForecastError",e)}))},Z=a(15),z=a.n(Z),H=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(_.a)(this,a),(r=t.call(this,e)).handleCardCity=function(){r.props.onRender(r.state.city,r.state.country)},r.handleDeleteCard=function(){r.props.onDelete(r.props.key)},r.state={city:r.props.city,country:r.props.country},r}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:z.a.city_container},n.a.createElement("button",{className:z.a.new_city,onClick:this.handleCardCity},n.a.createElement("p",{className:z.a.city_name},"City: ",this.state.city),n.a.createElement("p",{className:z.a.country_name},"Country: ",this.state.country)),n.a.createElement("button",{className:z.a.delete,onClick:this.handleDeleteCard},"X"))}}]),a}(n.a.Component),V=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(_.a)(this,a),(r=t.call(this,e)).handleCountryInput=function(e){r.setState({countryName:e})},r.handleCityInput=function(e){r.setState({cityName:e})},r.handleLoading=function(){r.setState({loading:!0})},r.handleLoadingFinish=function(){r.setState({loading:!1})},r.handleAddCity=function(){var e=r.state,t=e.cityName,a=e.countryName,n=e.cityArray,c=e.cityNumber;if(t&&a)if(n.length>"3")alert("maximum number of cities(4) reached, could not add any more city");else{var i=Object(h.a)(r.state.cityArray);i.push(c),r.setState({cityArray:i,cityNumber:c+1})}else alert("please enter city name and country name")},r.handleDeleteCard=function(e){var t=Object(h.a)(r.state.cityArray);t.splice(e,1),r.setState({cityArray:t})},r.renderCityFromAdded=function(e,t){r.setState({cityName:e,countryName:t},(function(){return r.getCurrentData()}))},r.state={countryName:"",cityName:"",cityNameDisplay:"",today:(new Date).getDay(),temp:"",weather:"",humidity:"",wind:"",forecast:[{weatherID:"",temp:"",weather:""},{weatherID:"",temp:"",weather:""},{weatherID:"",temp:"",weather:""},{weatherID:"",temp:"",weather:""},{weatherID:"",temp:"",weather:""}],loading:!1,cityArray:[],cityNumber:0,currentLat:"",currentLon:""},r.getCurrentData=r.getCurrentData.bind(Object(l.a)(r)),r}return Object(u.a)(a,[{key:"getCurrentData",value:function(){var e=Object(m.a)(s.a.mark((function e(){var t,a,r,n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.cityName,r=t.countryName,a&&r){e.next=4;break}return alert("please enter city name and country name"),e.abrupt("return");case 4:return this.handleLoading(),e.next=7,J(a,r);case 7:return n=e.sent,e.next=10,X(a,r);case 10:if(c=e.sent,console.log(n),n&&c){e.next=16;break}return alert("please check your city name and country name spelling"),this.handleLoadingFinish(),e.abrupt("return");case 16:this.setState({countryName:n.response.city.country,cityName:n.response.city.name,cityNameDisplay:n.response.city.name,temp:Math.round(n.response.current.maxCelsius),weather:n.response.current.weather,humidity:"".concat(n.response.current.humidity,"%"),wind:"".concat(n.response.current.windSpeed,"K/M"),forecast:[{weatherID:c.response.forecast[3].weatherID,temp:Math.round(c.response.forecast[3].maxCelsius),weather:c.response.forecast[3].weather},{weatherID:c.response.forecast[11].weatherID,temp:Math.round(c.response.forecast[11].maxCelsius),weather:c.response.forecast[11].weather},{weatherID:c.response.forecast[19].weatherID,temp:Math.round(c.response.forecast[19].maxCelsius),weather:c.response.forecast[19].weather},{weatherID:c.response.forecast[27].weatherID,temp:Math.round(c.response.forecast[27].maxCelsius),weather:c.response.forecast[27].weather},{weatherID:c.response.forecast[35].weatherID,temp:Math.round(c.response.forecast[35].maxCelsius),weather:c.response.forecast[35].weather}],currentLat:n.response.city.coord.lat,currentLon:n.response.city.coord.lon},console.log(123,this.state)),this.handleLoadingFinish();case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.temp,r=t.weather,c=t.humidity,i=t.wind,o=t.cityNameDisplay,s=t.today,m=t.forecast;return t.loading?n.a.createElement("div",{className:N.a.weather__background},n.a.createElement(K,{onCityChange:this.handleCityInput,onCountryChange:this.handleCountryInput,cityText:this.state.cityName,countryText:this.state.countryName,onSearch:this.getCurrentData}),n.a.createElement("div",{className:N.a.new_city},this.state.cityArray.map((function(t){return n.a.createElement(H,{key:t,city:e.state.cityName,country:e.state.countryName,onRender:e.renderCityFromAdded,onDelete:e.handleDeleteCard})}))),n.a.createElement("div",{className:N.a.loader})):n.a.createElement("div",{className:N.a.weather__background},n.a.createElement(K,{onCityChange:this.handleCityInput,onCountryChange:this.handleCountryInput,cityText:this.state.cityName,countryText:this.state.countryName,onSearch:this.getCurrentData,onAdd:this.handleAddCity}),n.a.createElement("div",{className:N.a.new_city},this.state.cityArray.map((function(t){return n.a.createElement(H,{key:t,city:e.state.cityName,country:e.state.countryName,onRender:e.renderCityFromAdded,onDelete:e.handleDeleteCard})}))),n.a.createElement("div",{className:N.a.weather__container},n.a.createElement("div",{className:N.a.weather_top},n.a.createElement(f,{temp:a,weather:r,humidity:c,wind:i}),n.a.createElement(C,{city:o})),n.a.createElement("div",{className:N.a.weather__divider}),n.a.createElement("div",{className:N.a.weather_bottom},n.a.createElement(D,{lat:this.state.currentLat,lon:this.state.currentLon}),n.a.createElement("div",{className:N.a.weather_bottom__divider}),n.a.createElement(W,{today:s,forecast:m}))))}}]),a}(n.a.Component);i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(V,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.23b5d539.chunk.js.map